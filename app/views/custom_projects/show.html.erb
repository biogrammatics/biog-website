<div class="container">
  <div class="row">
    <div class="col-md-8">
      <h1><%= @custom_project.project_name %></h1>
      
      <div class="mb-3">
        <% case @custom_project.status %>
        <% when 'pending' %>
          <span class="badge bg-warning text-dark fs-6"><%= @custom_project.display_status %></span>
        <% when 'in_progress' %>
          <span class="badge bg-primary fs-6"><%= @custom_project.display_status %></span>
        <% when 'completed' %>
          <span class="badge bg-success fs-6"><%= @custom_project.display_status %></span>
        <% when 'cancelled' %>
          <span class="badge bg-danger fs-6"><%= @custom_project.display_status %></span>
        <% else %>
          <span class="badge bg-secondary fs-6"><%= @custom_project.display_status %></span>
        <% end %>
        
        <% if @custom_project.project_type.present? %>
          <span class="badge bg-info fs-6 ms-2"><%= @custom_project.project_type.humanize %></span>
        <% end %>
      </div>
      
      <div class="card mb-4">
        <div class="card-header">
          <h5 class="mb-0">Project Details</h5>
        </div>
        <div class="card-body">
          <% if @custom_project.description.present? %>
            <h6>Description:</h6>
            <p class="ms-3"><%= simple_format(@custom_project.description) %></p>
          <% end %>
          
          <h6>Services:</h6>
          <ul class="ms-3">
            <% if @custom_project.strain_generation? %>
              <li>Custom Strain Generation</li>
            <% end %>
            <% if @custom_project.expression_testing? %>
              <li>Expression Testing & Optimization</li>
            <% end %>
            <% if !@custom_project.strain_generation? && !@custom_project.expression_testing? %>
              <li class="text-muted">No specific services selected</li>
            <% end %>
          </ul>
          
          <% if @custom_project.notes.present? %>
            <h6>Additional Notes:</h6>
            <p class="ms-3"><%= simple_format(@custom_project.notes) %></p>
          <% end %>
        </div>
      </div>
      
      <% if @custom_project.estimated_cost.present? || @custom_project.estimated_completion_date.present? %>
        <div class="card mb-4">
          <div class="card-header">
            <h5 class="mb-0">Project Estimates</h5>
          </div>
          <div class="card-body">
            <% if @custom_project.estimated_cost.present? %>
              <p><strong>Estimated Cost:</strong> $<%= number_with_precision(@custom_project.estimated_cost, precision: 2) %></p>
            <% end %>
            <% if @custom_project.estimated_completion_date.present? %>
              <p><strong>Estimated Completion:</strong> <%= @custom_project.estimated_completion_date.strftime("%B %d, %Y") %></p>
            <% end %>
          </div>
        </div>
      <% end %>
      
      <div class="d-grid gap-2 d-md-block">
        <%= link_to "Edit Project", edit_custom_project_path(@custom_project), class: "btn btn-primary" %>
        <%= link_to "Back to Projects", custom_projects_path, class: "btn btn-outline-secondary" %>
        <% if @custom_project.status == 'pending' || @custom_project.status == 'cancelled' %>
          <%= link_to "Delete Project", custom_project_path(@custom_project), 
              data: { turbo_method: :delete, turbo_confirm: "Are you sure you want to delete this project?" },
              class: "btn btn-danger" %>
        <% end %>
      </div>
    </div>
    
    <div class="col-md-4">
      <div class="card">
        <div class="card-header">
          <h5 class="mb-0">Project Timeline</h5>
        </div>
        <div class="card-body">
          <p><strong>Created:</strong><br><%= @custom_project.created_at.strftime("%B %d, %Y at %I:%M %p") %></p>
          <p><strong>Last Updated:</strong><br><%= @custom_project.updated_at.strftime("%B %d, %Y at %I:%M %p") %></p>
        </div>
      </div>
      
      <div class="card mt-3">
        <div class="card-header">
          <h5 class="mb-0">Need Help?</h5>
        </div>
        <div class="card-body">
          <p>Have questions about your project?</p>
          <a href="mailto:support@biogrammatics.com" class="btn btn-outline-primary btn-sm">Contact Support</a>
        </div>
      </div>
    </div>
  </div>
</div>